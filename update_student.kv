#: import fetch_student update_student.fetch_student
#: import update_student update_student.update_student
#: import delete_student update_student.delete_student

MDScreen:
    name : "update_student"
    md_bg_color : 1, 1, 1, 1

    canvas:
        Color:
            rgb : 1, 1, 1, 1
        Rectangle:
            size : self.size
            pos : self.pos
            source : "images/blackter.jpg"

    MDCard:
        md_bg_color : 133/255, 0, 0, 1
        elevation: 5
        size_hint : 1, .18
        radius : [0, 0, 15, 15]
        pos_hint : {"center_x" : .5, "center_y" : .92}
        MDFloatLayout:
            FitImage:
                size_hint : .15, .65
                radius : [50]
                pos_hint : {"center_x" : .1, "center_y" : .5}
                source : "images/log.png"
            MDLabel:
                text: "Adnan's Institute of WitchCraft"
                halign : "center"
                font_size : "22sp"
                pos_hint : {"center_x" : .56, "center_y" : .5}
                font_name : "fonts/Poppins-Bold.ttf"
                theme_text_color : "Custom"
                text_color : 1, 1, 1, 1

    MDIconButton:
        icon : "arrow-u-left-top-bold"
        icon_size : "20dp"
        pos_hint : {"center_x" : .57, "center_y" : .76}
        theme_text_color : "Custom"
        text_color : "white"
        on_press : root.manager.current = "teachers_dashboard"
    MDLabel:
        text : "Update Student"
        font_size : "18sp"
        halign : "center"
        pos_hint : {"center_x" : .755, "center_y" : .76}
        theme_text_color : "Custom"
        text_color : "white"
        font_name : "fonts/Poppins-Bold.ttf"

    MDCard:
        size_hint : .35, .2
        pos_hint : {"center_x" : .73, "center_y" : .62}
        md_bg_color : 0, 0, 0, .5
        radius : [15]
        FitImage:
            id : img
            size: self.parent.size
            pos : self.parent.pos
            source : "images/icon.png"

    MDTextField:
        id : roll
        mode : "rectangle"
        hint_text : "Roll No"
        size_hint : .17, .07
        pos_hint : {"center_x" : .145, "center_y" : .75}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"
    MDRoundFlatButton:
        text : "Fetch Student"
        md_bg_color : 133/255, 0, 0, 1
        size_hint : .13, .05
        pos_hint : {"center_x" : .38, "center_y" : .745}
        on_press : fetch_student(roll, img, name, age, email, contact, address, password, classed, parent_contact, gender, date_of_birth)

    MDTextField:
        id : name
        mode : "rectangle"
        hint_text : "Name"
        size_hint : .43, .07
        pos_hint : {"center_x" : .275, "center_y" : .67}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"
    MDTextField:
        id : age
        mode : "rectangle"
        hint_text : "Age"
        size_hint : .43, .07
        pos_hint : {"center_x" : .275, "center_y" : .59}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"

    MDTextField:
        id : email
        mode : "rectangle"
        hint_text : "E-Mail"
        size_hint : .43, .07
        pos_hint : {"center_x" : .275, "center_y" : .51}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"

    MDTextField:
        id : contact
        mode : "rectangle"
        hint_text : "Contact"
        size_hint : .43, .07
        pos_hint : {"center_x" : .275, "center_y" : .43}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"

    MDTextField:
        id : address
        mode : "rectangle"
        hint_text : "Address"
        size_hint : .43, .1
        font_size : "12sp"
        pos_hint : {"center_x" : .275, "center_y" : .335}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"
        multiline : True

    MDTextField:
        id : password
        mode : "rectangle"
        hint_text : "Password"
        size_hint : .43, .07
        pos_hint : {"center_x" : .275, "center_y" : .235}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"

    MDTextField:
        id : classed
        mode : "rectangle"
        hint_text : "Class"
        size_hint : .4, .07
        pos_hint : {"center_x" : .73, "center_y" : .475}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"

    MDTextField:
        id : parent_contact
        mode : "rectangle"
        hint_text : "Parent's Contact"
        size_hint : .4, .07
        pos_hint : {"center_x" : .73, "center_y" : .395}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"

    MDTextField:
        id : gender
        mode : "rectangle"
        hint_text : "Gender"
        size_hint : .4, .07
        pos_hint : {"center_x" : .73, "center_y" : .315}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"

    MDTextField:
        id : date_of_birth
        mode : "rectangle"
        hint_text : "Date of Birth"
        size_hint : .4, .07
        pos_hint : {"center_x" : .73, "center_y" : .235}
        font_size : "12sp"
        hint_text_color_normal : "orange"
        line_color_normal : "orange"
        text_color_focus : "white"
        text_color_normal : "white"

    MDRaisedButton:
        text : "Update Student"
        size_hint : .4, .06
        pos_hint : {"center_x" : .27, "center_y" : .14}
        on_press : update_student(roll, name, age, email, contact, address, password, classed, parent_contact, gender, date_of_birth)
    MDRaisedButton:
        text : "Delete Student"
        size_hint : .4, .06
        pos_hint : {"center_x" : .73, "center_y" : .14}
        on_press : delete_student(roll, img, name, age, email, contact, address, password, classed, parent_contact, gender, date_of_birth)
    MDRaisedButton:
        id : add
        text : "Generate New I-Card"
        size_hint : .85, .06
        pos_hint : {"center_x" : .5, "center_y" : .06}
